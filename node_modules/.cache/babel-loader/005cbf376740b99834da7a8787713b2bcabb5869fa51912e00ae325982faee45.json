{"ast":null,"code":"import AudioRecorder from \"vue-audio-recorder\";\nexport default {\n  props: {\n    text: String,\n    index: Number,\n    total: Number\n  },\n  data() {\n    return {\n      recording: false,\n      url: null\n    };\n  },\n  components: {\n    AudioRecorder\n  },\n  computed: {\n    file_name() {\n      let padded_number = \"\";\n      if (this.index < 10) {\n        padded_number = `00${this.index + 1}`;\n      } else if (this.index < 100) {\n        padded_number = `0${this.index + 1}`;\n      } else {\n        padded_number = `${this.index + 1}`;\n      }\n      return `utterance-${padded_number}.mp3`;\n    }\n  },\n  methods: {\n    toggle_record() {\n      this.recording = !this.recording;\n    },\n    callback(data) {\n      console.debug(data);\n      if (data && data.url) {\n        this.url = data.url; // window.URL.createObjectURL(data.blob);\n\n        // var link = document.createElement(\"a\");\n        // link.href = this.url;\n        // link.innerHTML = \"download here\";\n        // link.download = `voice_${this.index}.mp3`;\n        // // link.style = \"display: none\";\n        // document.body.appendChild(link);\n        // link.click();\n        // console.log(\"dine\");\n        // window.URL.revokeObjectURL(this.url);\n      }\n    }\n  }\n};","map":{"version":3,"names":["AudioRecorder","props","text","String","index","Number","total","data","recording","url","components","computed","file_name","padded_number","methods","toggle_record","callback","console","debug"],"sources":["D:\\Project\\Nerd_herd\\accounting\\accounting\\src\\components\\RecordVoice.vue"],"sourcesContent":["<template>\r\n\t<div class=\"hello\">\r\n\t\t<h1>Read the text ({{ index }}/{{ total }})</h1>\r\n\t\t<h3>{{ text }}</h3>\r\n\t\t<br />\r\n\r\n\t\t<div style=\"width: 400px; margin: auto; text-align: center\">\r\n\t\t\t<AudioRecorder :pause-recording=\"callback\" :after-recording=\"callback\" />\r\n\t\t\t<br />\r\n\t\t\t<audio v-if=\"url\" :src=\"url\" controls :title=\"file_name\" />\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport AudioRecorder from \"vue-audio-recorder\";\r\nexport default {\r\n\tprops: {\r\n\t\ttext: String,\r\n\t\tindex: Number,\r\n\t\ttotal: Number,\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\trecording: false,\r\n\t\t\turl: null,\r\n\t\t};\r\n\t},\r\n\tcomponents: {AudioRecorder},\r\n\tcomputed: {\r\n\t\tfile_name() {\r\n\t\t\tlet padded_number = \"\";\r\n\t\t\tif (this.index < 10) {\r\n\t\t\t\tpadded_number = `00${this.index + 1}`;\r\n\t\t\t} else if (this.index < 100) {\r\n\t\t\t\tpadded_number = `0${this.index + 1}`;\r\n\t\t\t} else {\r\n\t\t\t\tpadded_number = `${this.index + 1}`;\r\n\t\t\t}\r\n\r\n\t\t\treturn `utterance-${padded_number}.mp3`;\r\n\t\t},\r\n\t},\r\n\tmethods: {\r\n\t\ttoggle_record() {\r\n\t\t\tthis.recording = !this.recording;\r\n\t\t},\r\n\t\tcallback(data) {\r\n\t\t\tconsole.debug(data);\r\n\t\t\tif (data && data.url) {\r\n\t\t\t\tthis.url = data.url; // window.URL.createObjectURL(data.blob);\r\n\r\n\t\t\t\t// var link = document.createElement(\"a\");\r\n\t\t\t\t// link.href = this.url;\r\n\t\t\t\t// link.innerHTML = \"download here\";\r\n\t\t\t\t// link.download = `voice_${this.index}.mp3`;\r\n\t\t\t\t// // link.style = \"display: none\";\r\n\t\t\t\t// document.body.appendChild(link);\r\n\t\t\t\t// link.click();\r\n\t\t\t\t// console.log(\"dine\");\r\n\t\t\t\t// window.URL.revokeObjectURL(this.url);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style>\r\nh3 {\r\n\tmargin: 40px 0 0;\r\n}\r\n\r\n.ar-records {\r\n\tdisplay: none !important;\r\n}\r\n\r\n.ar-player {\r\n\tdisplay: none !important;\r\n}\r\n</style>\r\n"],"mappings":"AAeA,OAAOA,aAAY,MAAO,oBAAoB;AAC9C,eAAe;EACdC,KAAK,EAAE;IACNC,IAAI,EAAEC,MAAM;IACZC,KAAK,EAAEC,MAAM;IACbC,KAAK,EAAED;EACR,CAAC;EACDE,IAAIA,CAAA,EAAG;IACN,OAAO;MACNC,SAAS,EAAE,KAAK;MAChBC,GAAG,EAAE;IACN,CAAC;EACF,CAAC;EACDC,UAAU,EAAE;IAACV;EAAa,CAAC;EAC3BW,QAAQ,EAAE;IACTC,SAASA,CAAA,EAAG;MACX,IAAIC,aAAY,GAAI,EAAE;MACtB,IAAI,IAAI,CAACT,KAAI,GAAI,EAAE,EAAE;QACpBS,aAAY,GAAK,KAAI,IAAI,CAACT,KAAI,GAAI,CAAE,EAAC;MACtC,OAAO,IAAI,IAAI,CAACA,KAAI,GAAI,GAAG,EAAE;QAC5BS,aAAY,GAAK,IAAG,IAAI,CAACT,KAAI,GAAI,CAAE,EAAC;MACrC,OAAO;QACNS,aAAY,GAAK,GAAE,IAAI,CAACT,KAAI,GAAI,CAAE,EAAC;MACpC;MAEA,OAAQ,aAAYS,aAAc,MAAK;IACxC;EACD,CAAC;EACDC,OAAO,EAAE;IACRC,aAAaA,CAAA,EAAG;MACf,IAAI,CAACP,SAAQ,GAAI,CAAC,IAAI,CAACA,SAAS;IACjC,CAAC;IACDQ,QAAQA,CAACT,IAAI,EAAE;MACdU,OAAO,CAACC,KAAK,CAACX,IAAI,CAAC;MACnB,IAAIA,IAAG,IAAKA,IAAI,CAACE,GAAG,EAAE;QACrB,IAAI,CAACA,GAAE,GAAIF,IAAI,CAACE,GAAG,EAAE;;QAErB;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACD;IACD;EACD;AACD,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}