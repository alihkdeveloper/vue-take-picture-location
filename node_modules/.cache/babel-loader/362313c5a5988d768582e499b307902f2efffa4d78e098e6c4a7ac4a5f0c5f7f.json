{"ast":null,"code":"import { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, vShow as _vShow, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-469af010\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  id: \"app\",\n  class: \"web-camera-container\"\n};\nconst _hoisted_2 = {\n  class: \"camera-button\"\n};\nconst _hoisted_3 = {\n  key: 0\n};\nconst _hoisted_4 = {\n  key: 1\n};\nconst _hoisted_5 = {\n  class: \"camera-loading\"\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"ul\", {\n  class: \"loader-circle\"\n}, [/*#__PURE__*/_createElementVNode(\"li\"), /*#__PURE__*/_createElementVNode(\"li\"), /*#__PURE__*/_createElementVNode(\"li\")], -1 /* HOISTED */));\nconst _hoisted_7 = [_hoisted_6];\nconst _hoisted_8 = {\n  ref: \"camera\",\n  width: 450,\n  height: 337.5,\n  autoplay: \"\"\n};\nconst _hoisted_9 = {\n  id: \"photoTaken\",\n  ref: \"canvas\",\n  width: 450,\n  height: 337.5\n};\nconst _hoisted_10 = {\n  key: 1,\n  class: \"camera-shoot\"\n};\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"img\", {\n  src: \"https://img.icons8.com/material-outlined/50/000000/camera--v2.png\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_12 = [_hoisted_11];\nconst _hoisted_13 = {\n  key: 2,\n  class: \"camera-download\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"button\", {\n    type: \"button\",\n    class: _normalizeClass([\"button is-rounded\", {\n      'is-primary': !$data.isCameraOpen,\n      'is-danger': $data.isCameraOpen\n    }]),\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.toggleCamera && $options.toggleCamera(...args))\n  }, [!$data.isCameraOpen ? (_openBlock(), _createElementBlock(\"span\", _hoisted_3, \"Open Camera\")) : (_openBlock(), _createElementBlock(\"span\", _hoisted_4, \"Close Camera\"))], 2 /* CLASS */)]), _withDirectives(_createElementVNode(\"div\", _hoisted_5, _hoisted_7, 512 /* NEED_PATCH */), [[_vShow, $data.isCameraOpen && $data.isLoading]]), $data.isCameraOpen ? _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    class: _normalizeClass([\"camera-box\", {\n      flash: $data.isShotPhoto\n    }])\n  }, [_createElementVNode(\"div\", {\n    class: _normalizeClass([\"camera-shutter\", {\n      flash: $data.isShotPhoto\n    }])\n  }, null, 2 /* CLASS */), _withDirectives(_createElementVNode(\"video\", _hoisted_8, null, 512 /* NEED_PATCH */), [[_vShow, !$data.isPhotoTaken]]), _withDirectives(_createElementVNode(\"canvas\", _hoisted_9, null, 512 /* NEED_PATCH */), [[_vShow, $data.isPhotoTaken]])], 2 /* CLASS */)), [[_vShow, !$data.isLoading]]) : _createCommentVNode(\"v-if\", true), $data.isCameraOpen && !$data.isLoading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [_createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"button\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.takePhoto && $options.takePhoto(...args))\n  }, _hoisted_12)])) : _createCommentVNode(\"v-if\", true), $data.isPhotoTaken && $data.isCameraOpen ? (_openBlock(), _createElementBlock(\"div\", _hoisted_13, [_createElementVNode(\"a\", {\n    id: \"downloadPhoto\",\n    download: \"my-photo.jpg\",\n    class: \"button\",\n    role: \"button\",\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.downloadImage && $options.downloadImage(...args))\n  }, \" Download \")])) : _createCommentVNode(\"v-if\", true)])]);\n}","map":{"version":3,"names":["id","class","_createElementVNode","_hoisted_6","ref","width","height","autoplay","src","_hoisted_11","_createElementBlock","_hoisted_1","_hoisted_2","type","_normalizeClass","$data","isCameraOpen","onClick","_cache","args","$options","toggleCamera","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_7","isLoading","flash","isShotPhoto","_hoisted_8","isPhotoTaken","_hoisted_9","_hoisted_10","takePhoto","_hoisted_13","download","role","downloadImage"],"sources":["D:\\Project\\Nerd_herd\\accounting\\accounting\\src\\components\\HelloWorld.vue"],"sourcesContent":["<template>\n\t<div>\n\t\t<div id=\"app\" class=\"web-camera-container\">\n\t\t\t<div class=\"camera-button\">\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclass=\"button is-rounded\"\n\t\t\t\t\t:class=\"{'is-primary': !isCameraOpen, 'is-danger': isCameraOpen}\"\n\t\t\t\t\t@click=\"toggleCamera\"\n\t\t\t\t>\n\t\t\t\t\t<span v-if=\"!isCameraOpen\">Open Camera</span>\n\t\t\t\t\t<span v-else>Close Camera</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\n\t\t\t<div v-show=\"isCameraOpen && isLoading\" class=\"camera-loading\">\n\t\t\t\t<ul class=\"loader-circle\">\n\t\t\t\t\t<li></li>\n\t\t\t\t\t<li></li>\n\t\t\t\t\t<li></li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\n\t\t\t<div\n\t\t\t\tv-if=\"isCameraOpen\"\n\t\t\t\tv-show=\"!isLoading\"\n\t\t\t\tclass=\"camera-box\"\n\t\t\t\t:class=\"{flash: isShotPhoto}\"\n\t\t\t>\n\t\t\t\t<div class=\"camera-shutter\" :class=\"{flash: isShotPhoto}\"></div>\n\n\t\t\t\t<video\n\t\t\t\t\tv-show=\"!isPhotoTaken\"\n\t\t\t\t\tref=\"camera\"\n\t\t\t\t\t:width=\"450\"\n\t\t\t\t\t:height=\"337.5\"\n\t\t\t\t\tautoplay\n\t\t\t\t></video>\n\n\t\t\t\t<canvas\n\t\t\t\t\tv-show=\"isPhotoTaken\"\n\t\t\t\t\tid=\"photoTaken\"\n\t\t\t\t\tref=\"canvas\"\n\t\t\t\t\t:width=\"450\"\n\t\t\t\t\t:height=\"337.5\"\n\t\t\t\t></canvas>\n\t\t\t</div>\n\n\t\t\t<div v-if=\"isCameraOpen && !isLoading\" class=\"camera-shoot\">\n\t\t\t\t<button type=\"button\" class=\"button\" @click=\"takePhoto\">\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc=\"https://img.icons8.com/material-outlined/50/000000/camera--v2.png\"\n\t\t\t\t\t/>\n\t\t\t\t</button>\n\t\t\t</div>\n\n\t\t\t<div v-if=\"isPhotoTaken && isCameraOpen\" class=\"camera-download\">\n\t\t\t\t<a\n\t\t\t\t\tid=\"downloadPhoto\"\n\t\t\t\t\tdownload=\"my-photo.jpg\"\n\t\t\t\t\tclass=\"button\"\n\t\t\t\t\trole=\"button\"\n\t\t\t\t\t@click=\"downloadImage\"\n\t\t\t\t>\n\t\t\t\t\tDownload\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tisCameraOpen: false,\n\t\t\tisPhotoTaken: false,\n\t\t\tisShotPhoto: false,\n\t\t\tisLoading: false,\n\t\t\tlink: \"#\",\n\t\t};\n\t},\n\n\tmethods: {\n\t\ttoggleCamera() {\n\t\t\tif (this.isCameraOpen) {\n\t\t\t\tthis.isCameraOpen = false;\n\t\t\t\tthis.isPhotoTaken = false;\n\t\t\t\tthis.isShotPhoto = false;\n\t\t\t\tthis.stopCameraStream();\n\t\t\t} else {\n\t\t\t\tthis.isCameraOpen = true;\n\t\t\t\tthis.createCameraElement();\n\t\t\t}\n\t\t},\n\n\t\tcreateCameraElement() {\n\t\t\tthis.isLoading = true;\n\n\t\t\tconst constraints = (window.constraints = {\n\t\t\t\taudio: false,\n\t\t\t\tvideo: true,\n\t\t\t});\n\n\t\t\tnavigator.mediaDevices\n\t\t\t\t.getUserMedia(constraints)\n\t\t\t\t.then((stream) => {\n\t\t\t\t\tthis.isLoading = false;\n\t\t\t\t\tthis.$refs.camera.srcObject = stream;\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t\tthis.isLoading = false;\n\t\t\t\t\talert(\"May the browser didn't support or there is some errors.\");\n\t\t\t\t});\n\t\t},\n\n\t\tstopCameraStream() {\n\t\t\tlet tracks = this.$refs.camera.srcObject.getTracks();\n\n\t\t\ttracks.forEach((track) => {\n\t\t\t\ttrack.stop();\n\t\t\t});\n\t\t},\n\n\t\ttakePhoto() {\n\t\t\tif (!this.isPhotoTaken) {\n\t\t\t\tthis.isShotPhoto = true;\n\n\t\t\t\tconst FLASH_TIMEOUT = 50;\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.isShotPhoto = false;\n\t\t\t\t}, FLASH_TIMEOUT);\n\t\t\t}\n\n\t\t\tthis.isPhotoTaken = !this.isPhotoTaken;\n\n\t\t\tconst context = this.$refs.canvas.getContext(\"2d\");\n\t\t\tcontext.drawImage(this.$refs.camera, 0, 0, 450, 337.5);\n\t\t},\n\n\t\tdownloadImage() {\n\t\t\tconst download = document.getElementById(\"downloadPhoto\");\n\t\t\tconst canvas = document\n\t\t\t\t.getElementById(\"photoTaken\")\n\t\t\t\t.toDataURL(\"image/jpeg\")\n\t\t\t\t.replace(\"image/jpeg\", \"image/octet-stream\");\n\t\t\tdownload.setAttribute(\"href\", canvas);\n\t\t},\n\t},\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nbody {\n\tdisplay: flex;\n\tjustify-content: center;\n}\n\n.web-camera-container {\n\tmargin-top: 2rem;\n\tmargin-bottom: 2rem;\n\tpadding: 2rem;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\tborder: 1px solid #ccc;\n\tborder-radius: 4px;\n\twidth: 500px;\n}\n.camera-button {\n\tmargin-bottom: 2rem;\n}\n\n.camera-box .camera-shutter {\n\topacity: 0;\n\twidth: 450px;\n\theight: 337.5px;\n\tbackground-color: #fff;\n\tposition: absolute;\n}\n.flash {\n\topacity: 1;\n}\n\n.camera-shoot {\n\tmargin: 1rem 0;\n}\n\nbutton {\n\theight: 60px;\n\twidth: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tborder-radius: 100%;\n}\nimg {\n\theight: 35px;\n\tobject-fit: cover;\n}\n\n.camera-loading {\n\toverflow: hidden;\n\theight: 100%;\n\tposition: absolute;\n\twidth: 100%;\n\tmin-height: 150px;\n\tmargin: 3rem 0 0 -1.2rem;\n}\nul {\n\theight: 100%;\n\tposition: absolute;\n\twidth: 100%;\n\tz-index: 999999;\n\tmargin: 0;\n}\n\n.loader-circle {\n\tdisplay: block;\n\theight: 14px;\n\tmargin: 0 auto;\n\ttop: 50%;\n\tleft: 100%;\n\ttransform: translateY(-50%);\n\ttransform: translateX(-50%);\n\tposition: absolute;\n\twidth: 100%;\n\tpadding: 0;\n}\nli {\n\tdisplay: block;\n\tfloat: left;\n\twidth: 10px;\n\theight: 10px;\n\tline-height: 10px;\n\tpadding: 0;\n\tposition: relative;\n\tmargin: 0 0 0 4px;\n\tbackground: #999;\n\tanimation: preload 1s infinite;\n\ttop: -50%;\n\tborder-radius: 100%;\n}\n\n@keyframes preload {\n\t0% {\n\t\topacity: 1;\n\t}\n\t50% {\n\t\topacity: 0.4;\n\t}\n\t100% {\n\t\topacity: 1;\n\t}\n}\n</style>\n"],"mappings":";;;EAEOA,EAAE,EAAC,KAAK;EAACC,KAAK,EAAC;;;EACdA,KAAK,EAAC;AAAe;;;;;;;;EAYcA,KAAK,EAAC;AAAgB;gEAC7DC,mBAAA,CAIK;EAJDD,KAAK,EAAC;AAAe,I,aACxBC,mBAAA,CAAS,O,aACTA,mBAAA,CAAS,O,aACTA,mBAAA,CAAS,M;oBAHVC,UAIK,C;;EAaJC,GAAG,EAAC,QAAQ;EACXC,KAAK,EAAE,GAAG;EACVC,MAAM,EAAE,KAAK;EACdC,QAAQ,EAAR;;;EAKAP,EAAE,EAAC,YAAY;EACfI,GAAG,EAAC,QAAQ;EACXC,KAAK,EAAE,GAAG;EACVC,MAAM,EAAE;;;;EAI4BL,KAAK,EAAC;;iEAE3CC,mBAAA,CAEE;EADDM,GAAG,EAAC;AAAmE;qBADxEC,WAEE,C;;;EAIqCR,KAAK,EAAC;;;uBAvDjDS,mBAAA,CAmEM,cAlELR,mBAAA,CAiEM,OAjENS,UAiEM,GAhELT,mBAAA,CAUM,OAVNU,UAUM,GATLV,mBAAA,CAQS;IAPRW,IAAI,EAAC,QAAQ;IACbZ,KAAK,EAAAa,eAAA,EAAC,mBAAmB;MAAA,eACDC,KAAA,CAAAC,YAAY;MAAA,aAAeD,KAAA,CAAAC;IAAY;IAC9DC,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,YAAA,IAAAD,QAAA,CAAAC,YAAA,IAAAF,IAAA,CAAY;OAEPJ,KAAA,CAAAC,YAAY,I,cAAzBN,mBAAA,CAA6C,QAAAY,UAAA,EAAlB,aAAW,M,cACtCZ,mBAAA,CAAgC,QAAAa,UAAA,EAAnB,cAAY,G,oCAI3BrB,mBAAA,CAMM,OANNsB,UAMM,EAAAC,UAAA,0B,SANOV,KAAA,CAAAC,YAAY,IAAID,KAAA,CAAAW,SAAS,E,GAS/BX,KAAA,CAAAC,YAAY,G,+BADnBN,mBAAA,CAuBM;;IApBLT,KAAK,EAAAa,eAAA,EAAC,YAAY;MAAAa,KAAA,EACFZ,KAAA,CAAAa;IAAW;MAE3B1B,mBAAA,CAAgE;IAA3DD,KAAK,EAAAa,eAAA,EAAC,gBAAgB;MAAAa,KAAA,EAAiBZ,KAAA,CAAAa;IAAW;2CAEvD1B,mBAAA,CAMS,SANT2B,UAMS,gC,UALCd,KAAA,CAAAe,YAAY,E,mBAOtB5B,mBAAA,CAMU,UANV6B,UAMU,gC,SALDhB,KAAA,CAAAe,YAAY,E,gCAfZf,KAAA,CAAAW,SAAS,E,uCAuBRX,KAAA,CAAAC,YAAY,KAAKD,KAAA,CAAAW,SAAS,I,cAArChB,mBAAA,CAMM,OANNsB,WAMM,GALL9B,mBAAA,CAIS;IAJDW,IAAI,EAAC,QAAQ;IAACZ,KAAK,EAAC,QAAQ;IAAEgB,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAa,SAAA,IAAAb,QAAA,CAAAa,SAAA,IAAAd,IAAA,CAAS;0DAO5CJ,KAAA,CAAAe,YAAY,IAAIf,KAAA,CAAAC,YAAY,I,cAAvCN,mBAAA,CAUM,OAVNwB,WAUM,GATLhC,mBAAA,CAQI;IAPHF,EAAE,EAAC,eAAe;IAClBmC,QAAQ,EAAC,cAAc;IACvBlC,KAAK,EAAC,QAAQ;IACdmC,IAAI,EAAC,QAAQ;IACZnB,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAiB,aAAA,IAAAjB,QAAA,CAAAiB,aAAA,IAAAlB,IAAA,CAAa;KACrB,YAED,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}