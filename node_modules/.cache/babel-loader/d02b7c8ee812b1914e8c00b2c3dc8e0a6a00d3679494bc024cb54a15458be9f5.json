{"ast":null,"code":"export default {\n  data() {\n    return {\n      isCameraOpen: false,\n      isPhotoTaken: false,\n      isShotPhoto: false,\n      isLoading: false,\n      link: \"#\"\n    };\n  },\n  methods: {\n    toggleCamera() {\n      if (this.isCameraOpen) {\n        this.isCameraOpen = false;\n        this.isPhotoTaken = false;\n        this.isShotPhoto = false;\n        this.stopCameraStream();\n      } else {\n        this.isCameraOpen = true;\n        this.createCameraElement();\n      }\n    },\n    createCameraElement() {\n      this.isLoading = true;\n      const constraints = window.constraints = {\n        audio: false,\n        video: true\n      };\n      navigator.mediaDevices.getUserMedia(constraints).then(stream => {\n        this.isLoading = false;\n        this.$refs.camera.srcObject = stream;\n      }).catch(error => {\n        console.log(error);\n        this.isLoading = false;\n        alert(\"May the browser didn't support or there is some errors.\");\n      });\n    },\n    stopCameraStream() {\n      let tracks = this.$refs.camera.srcObject.getTracks();\n      tracks.forEach(track => {\n        track.stop();\n      });\n    },\n    takePhoto() {\n      if (!this.isPhotoTaken) {\n        this.isShotPhoto = true;\n        const FLASH_TIMEOUT = 50;\n        setTimeout(() => {\n          this.isShotPhoto = false;\n        }, FLASH_TIMEOUT);\n      }\n      this.isPhotoTaken = !this.isPhotoTaken;\n      const context = this.$refs.canvas.getContext(\"2d\");\n      context.drawImage(this.$refs.camera, 0, 0, 450, 337.5);\n    },\n    downloadImage() {\n      const download = document.getElementById(\"downloadPhoto\");\n      const canvas = document.getElementById(\"photoTaken\").toDataURL(\"image/jpeg\").replace(\"image/jpeg\", \"image/octet-stream\");\n      download.setAttribute(\"href\", canvas);\n    }\n  }\n};","map":{"version":3,"names":["data","isCameraOpen","isPhotoTaken","isShotPhoto","isLoading","link","methods","toggleCamera","stopCameraStream","createCameraElement","constraints","window","audio","video","navigator","mediaDevices","getUserMedia","then","stream","$refs","camera","srcObject","catch","error","console","log","alert","tracks","getTracks","forEach","track","stop","takePhoto","FLASH_TIMEOUT","setTimeout","context","canvas","getContext","drawImage","downloadImage","download","document","getElementById","toDataURL","replace","setAttribute"],"sources":["D:\\Project\\Nerd_herd\\accounting\\accounting\\src\\components\\HelloWorld.vue"],"sourcesContent":["<template>\n\t<div style=\"text-align: center\">\n\t\t<div id=\"app\" class=\"web-camera-container\">\n\t\t\t<div class=\"camera-button\">\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclass=\"button is-rounded\"\n\t\t\t\t\t:class=\"{'is-primary': !isCameraOpen, 'is-danger': isCameraOpen}\"\n\t\t\t\t\t@click=\"toggleCamera\"\n\t\t\t\t>\n\t\t\t\t\t<span v-if=\"!isCameraOpen\">Open Camera</span>\n\t\t\t\t\t<span v-else>Close Camera</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\n\t\t\t<div v-show=\"isCameraOpen && isLoading\" class=\"camera-loading\">\n\t\t\t\t<ul class=\"loader-circle\">\n\t\t\t\t\t<li></li>\n\t\t\t\t\t<li></li>\n\t\t\t\t\t<li></li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\n\t\t\t<div\n\t\t\t\tv-if=\"isCameraOpen\"\n\t\t\t\tv-show=\"!isLoading\"\n\t\t\t\tclass=\"camera-box\"\n\t\t\t\t:class=\"{flash: isShotPhoto}\"\n\t\t\t>\n\t\t\t\t<div class=\"camera-shutter\" :class=\"{flash: isShotPhoto}\"></div>\n\n\t\t\t\t<video\n\t\t\t\t\tv-show=\"!isPhotoTaken\"\n\t\t\t\t\tref=\"camera\"\n\t\t\t\t\t:width=\"450\"\n\t\t\t\t\t:height=\"337.5\"\n\t\t\t\t\tautoplay\n\t\t\t\t></video>\n\n\t\t\t\t<canvas\n\t\t\t\t\tv-show=\"isPhotoTaken\"\n\t\t\t\t\tid=\"photoTaken\"\n\t\t\t\t\tref=\"canvas\"\n\t\t\t\t\t:width=\"450\"\n\t\t\t\t\t:height=\"337.5\"\n\t\t\t\t></canvas>\n\t\t\t</div>\n\n\t\t\t<div v-if=\"isCameraOpen && !isLoading\" class=\"camera-shoot\">\n\t\t\t\t<button type=\"button\" class=\"button\" @click=\"takePhoto\">\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc=\"https://img.icons8.com/material-outlined/50/000000/camera--v2.png\"\n\t\t\t\t\t/>\n\t\t\t\t</button>\n\t\t\t</div>\n\n\t\t\t<div v-if=\"isPhotoTaken && isCameraOpen\" class=\"camera-download\">\n\t\t\t\t<a\n\t\t\t\t\tid=\"downloadPhoto\"\n\t\t\t\t\tdownload=\"my-photo.jpg\"\n\t\t\t\t\tclass=\"button\"\n\t\t\t\t\trole=\"button\"\n\t\t\t\t\t@click=\"downloadImage\"\n\t\t\t\t>\n\t\t\t\t\tDownload\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tisCameraOpen: false,\n\t\t\tisPhotoTaken: false,\n\t\t\tisShotPhoto: false,\n\t\t\tisLoading: false,\n\t\t\tlink: \"#\",\n\t\t};\n\t},\n\n\tmethods: {\n\t\ttoggleCamera() {\n\t\t\tif (this.isCameraOpen) {\n\t\t\t\tthis.isCameraOpen = false;\n\t\t\t\tthis.isPhotoTaken = false;\n\t\t\t\tthis.isShotPhoto = false;\n\t\t\t\tthis.stopCameraStream();\n\t\t\t} else {\n\t\t\t\tthis.isCameraOpen = true;\n\t\t\t\tthis.createCameraElement();\n\t\t\t}\n\t\t},\n\n\t\tcreateCameraElement() {\n\t\t\tthis.isLoading = true;\n\n\t\t\tconst constraints = (window.constraints = {\n\t\t\t\taudio: false,\n\t\t\t\tvideo: true,\n\t\t\t});\n\n\t\t\tnavigator.mediaDevices\n\t\t\t\t.getUserMedia(constraints)\n\t\t\t\t.then((stream) => {\n\t\t\t\t\tthis.isLoading = false;\n\t\t\t\t\tthis.$refs.camera.srcObject = stream;\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t\tthis.isLoading = false;\n\t\t\t\t\talert(\"May the browser didn't support or there is some errors.\");\n\t\t\t\t});\n\t\t},\n\n\t\tstopCameraStream() {\n\t\t\tlet tracks = this.$refs.camera.srcObject.getTracks();\n\n\t\t\ttracks.forEach((track) => {\n\t\t\t\ttrack.stop();\n\t\t\t});\n\t\t},\n\n\t\ttakePhoto() {\n\t\t\tif (!this.isPhotoTaken) {\n\t\t\t\tthis.isShotPhoto = true;\n\n\t\t\t\tconst FLASH_TIMEOUT = 50;\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.isShotPhoto = false;\n\t\t\t\t}, FLASH_TIMEOUT);\n\t\t\t}\n\n\t\t\tthis.isPhotoTaken = !this.isPhotoTaken;\n\n\t\t\tconst context = this.$refs.canvas.getContext(\"2d\");\n\t\t\tcontext.drawImage(this.$refs.camera, 0, 0, 450, 337.5);\n\t\t},\n\n\t\tdownloadImage() {\n\t\t\tconst download = document.getElementById(\"downloadPhoto\");\n\t\t\tconst canvas = document\n\t\t\t\t.getElementById(\"photoTaken\")\n\t\t\t\t.toDataURL(\"image/jpeg\")\n\t\t\t\t.replace(\"image/jpeg\", \"image/octet-stream\");\n\t\t\tdownload.setAttribute(\"href\", canvas);\n\t\t},\n\t},\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nbody {\n\tdisplay: flex;\n\tjustify-content: center;\n}\n\n.web-camera-container {\n\tmargin-top: 2rem;\n\tmargin-bottom: 2rem;\n\tpadding: 2rem;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\tborder: 1px solid #ccc;\n\tborder-radius: 4px;\n\twidth: 500px;\n}\n.camera-button {\n\tmargin-bottom: 2rem;\n}\n\n.camera-box .camera-shutter {\n\topacity: 0;\n\twidth: 450px;\n\theight: 337.5px;\n\tbackground-color: #fff;\n\tposition: absolute;\n}\n.flash {\n\topacity: 1;\n}\n\n.camera-shoot {\n\tmargin: 1rem 0;\n}\n\nbutton {\n\theight: 60px;\n\twidth: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tborder-radius: 100%;\n}\nimg {\n\theight: 35px;\n\tobject-fit: cover;\n}\n\n.camera-loading {\n\toverflow: hidden;\n\theight: 100%;\n\tposition: absolute;\n\twidth: 100%;\n\tmin-height: 150px;\n\tmargin: 3rem 0 0 -1.2rem;\n}\nul {\n\theight: 100%;\n\tposition: absolute;\n\twidth: 100%;\n\tz-index: 999999;\n\tmargin: 0;\n}\n\n.loader-circle {\n\tdisplay: block;\n\theight: 14px;\n\tmargin: 0 auto;\n\ttop: 50%;\n\tleft: 100%;\n\ttransform: translateY(-50%);\n\ttransform: translateX(-50%);\n\tposition: absolute;\n\twidth: 100%;\n\tpadding: 0;\n}\nli {\n\tdisplay: block;\n\tfloat: left;\n\twidth: 10px;\n\theight: 10px;\n\tline-height: 10px;\n\tpadding: 0;\n\tposition: relative;\n\tmargin: 0 0 0 4px;\n\tbackground: #999;\n\tanimation: preload 1s infinite;\n\ttop: -50%;\n\tborder-radius: 100%;\n}\n\n@keyframes preload {\n\t0% {\n\t\topacity: 1;\n\t}\n\t50% {\n\t\topacity: 0.4;\n\t}\n\t100% {\n\t\topacity: 1;\n\t}\n}\n</style>\n"],"mappings":"AAwEA,eAAe;EACdA,IAAIA,CAAA,EAAG;IACN,OAAO;MACNC,YAAY,EAAE,KAAK;MACnBC,YAAY,EAAE,KAAK;MACnBC,WAAW,EAAE,KAAK;MAClBC,SAAS,EAAE,KAAK;MAChBC,IAAI,EAAE;IACP,CAAC;EACF,CAAC;EAEDC,OAAO,EAAE;IACRC,YAAYA,CAAA,EAAG;MACd,IAAI,IAAI,CAACN,YAAY,EAAE;QACtB,IAAI,CAACA,YAAW,GAAI,KAAK;QACzB,IAAI,CAACC,YAAW,GAAI,KAAK;QACzB,IAAI,CAACC,WAAU,GAAI,KAAK;QACxB,IAAI,CAACK,gBAAgB,CAAC,CAAC;MACxB,OAAO;QACN,IAAI,CAACP,YAAW,GAAI,IAAI;QACxB,IAAI,CAACQ,mBAAmB,CAAC,CAAC;MAC3B;IACD,CAAC;IAEDA,mBAAmBA,CAAA,EAAG;MACrB,IAAI,CAACL,SAAQ,GAAI,IAAI;MAErB,MAAMM,WAAU,GAAKC,MAAM,CAACD,WAAU,GAAI;QACzCE,KAAK,EAAE,KAAK;QACZC,KAAK,EAAE;MACR,CAAE;MAEFC,SAAS,CAACC,YAAW,CACnBC,YAAY,CAACN,WAAW,EACxBO,IAAI,CAAEC,MAAM,IAAK;QACjB,IAAI,CAACd,SAAQ,GAAI,KAAK;QACtB,IAAI,CAACe,KAAK,CAACC,MAAM,CAACC,SAAQ,GAAIH,MAAM;MACrC,CAAC,EACAI,KAAK,CAAEC,KAAK,IAAK;QACjBC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;QAClB,IAAI,CAACnB,SAAQ,GAAI,KAAK;QACtBsB,KAAK,CAAC,yDAAyD,CAAC;MACjE,CAAC,CAAC;IACJ,CAAC;IAEDlB,gBAAgBA,CAAA,EAAG;MAClB,IAAImB,MAAK,GAAI,IAAI,CAACR,KAAK,CAACC,MAAM,CAACC,SAAS,CAACO,SAAS,CAAC,CAAC;MAEpDD,MAAM,CAACE,OAAO,CAAEC,KAAK,IAAK;QACzBA,KAAK,CAACC,IAAI,CAAC,CAAC;MACb,CAAC,CAAC;IACH,CAAC;IAEDC,SAASA,CAAA,EAAG;MACX,IAAI,CAAC,IAAI,CAAC9B,YAAY,EAAE;QACvB,IAAI,CAACC,WAAU,GAAI,IAAI;QAEvB,MAAM8B,aAAY,GAAI,EAAE;QAExBC,UAAU,CAAC,MAAM;UAChB,IAAI,CAAC/B,WAAU,GAAI,KAAK;QACzB,CAAC,EAAE8B,aAAa,CAAC;MAClB;MAEA,IAAI,CAAC/B,YAAW,GAAI,CAAC,IAAI,CAACA,YAAY;MAEtC,MAAMiC,OAAM,GAAI,IAAI,CAAChB,KAAK,CAACiB,MAAM,CAACC,UAAU,CAAC,IAAI,CAAC;MAClDF,OAAO,CAACG,SAAS,CAAC,IAAI,CAACnB,KAAK,CAACC,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,EAAE,KAAK,CAAC;IACvD,CAAC;IAEDmB,aAAaA,CAAA,EAAG;MACf,MAAMC,QAAO,GAAIC,QAAQ,CAACC,cAAc,CAAC,eAAe,CAAC;MACzD,MAAMN,MAAK,GAAIK,QAAO,CACpBC,cAAc,CAAC,YAAY,EAC3BC,SAAS,CAAC,YAAY,EACtBC,OAAO,CAAC,YAAY,EAAE,oBAAoB,CAAC;MAC7CJ,QAAQ,CAACK,YAAY,CAAC,MAAM,EAAET,MAAM,CAAC;IACtC;EACD;AACD,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}